<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9) on Fri Oct 20 19:09:32 CEST 2017 -->
<title>DoodleController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2017-10-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DoodleController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../com/leombro/toydoodle/package-summary.html">com.leombro.toydoodle</a></div>
<h2 title="Class DoodleController" class="title">Class DoodleController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>com.leombro.toydoodle.DoodleController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@RestController
public class <span class="typeNameLabel">DoodleController</span>
extends Object</pre>
<div class="block">A Spring controller class for the RESTful ToyDoodle service.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#DoodleController--">DoodleController</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#createDoodle-di.unipi.ase.doodle.Doodle-">createDoodle</a></span>&#8203;(di.unipi.ase.doodle.Doodle&nbsp;d)</code></th>
<td class="colLast">
<div class="block">Creates a new doodle from JSON.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#deleteDoodle-int-">deleteDoodle</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Deletes the doodle identified by id.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#deleteVote-int-java.lang.String-">deleteVote</a></span>&#8203;(int&nbsp;id,
          String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Deletes the vote of name from the Doodle identified by id.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>di.unipi.ase.doodle.Doodle</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#getDoodle-int-">getDoodle</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Retrieves the doodle identified by id.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>HashMap&lt;Integer,di.unipi.ase.doodle.Doodle&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#getOpenDoodles--">getOpenDoodles</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Retrieves all currently opened doodles.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#getVotedOption-int-java.lang.String-">getVotedOption</a></span>&#8203;(int&nbsp;id,
              String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Returns the option voted by user name in the doodle identified by id.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#putVote-int-di.unipi.ase.doodle.Vote-">putVote</a></span>&#8203;(int&nbsp;id,
       di.unipi.ase.doodle.Vote&nbsp;v)</code></th>
<td class="colLast">
<div class="block">Creates a new vote in the doodle identified by id and returns the name of the voter.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/leombro/toydoodle/DoodleController.html#updateVote-int-java.lang.String-di.unipi.ase.doodle.Vote-">updateVote</a></span>&#8203;(int&nbsp;id,
          String&nbsp;name,
          di.unipi.ase.doodle.Vote&nbsp;v)</code></th>
<td class="colLast">
<div class="block">Posts an update as a new JSON vote to the vote of name in doodle id, and returns the name of the voter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DoodleController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DoodleController</h4>
<pre>public&nbsp;DoodleController&#8203;()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createDoodle-di.unipi.ase.doodle.Doodle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDoodle</h4>
<pre>@RequestMapping(value="/doodles",
                method=PUT)
public&nbsp;long&nbsp;createDoodle&#8203;(@RequestBody
                         di.unipi.ase.doodle.Doodle&nbsp;d)</pre>
<div class="block">Creates a new doodle from JSON.

 The implementation guarantees that a doodle is created if and only if the JSON contains
 both the "title" and "options" fields (ignoring any other field).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>d</code> - The Doodle parsed by the Spring framework from the JSON body request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ID of the newly created doodle, or -1 if there's been an error.</dd>
</dl>
</li>
</ul>
<a name="getOpenDoodles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenDoodles</h4>
<pre>@RequestMapping(value="/doodles",
                method=GET)
public&nbsp;HashMap&lt;Integer,di.unipi.ase.doodle.Doodle&gt;&nbsp;getOpenDoodles&#8203;()</pre>
<div class="block">Retrieves all currently opened doodles.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of pairs [id, Doodle] representing the currently opened doodles.</dd>
</dl>
</li>
</ul>
<a name="getDoodle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDoodle</h4>
<pre>@RequestMapping(value="/doodles/{id}",
                method=GET)
public&nbsp;di.unipi.ase.doodle.Doodle&nbsp;getDoodle&#8203;(@PathVariable("id")
                                            int&nbsp;id)</pre>
<div class="block">Retrieves the doodle identified by id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the ID of the Doodle to be retrieved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The desired Doodle, or null if the ID is not a valid one.</dd>
</dl>
</li>
</ul>
<a name="deleteDoodle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDoodle</h4>
<pre>@RequestMapping(value="/doodles/{id}",
                method=DELETE)
public&nbsp;void&nbsp;deleteDoodle&#8203;(@PathVariable("id")
                         int&nbsp;id)</pre>
<div class="block">Deletes the doodle identified by id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The ID of the Doodle to be deleted.</dd>
</dl>
</li>
</ul>
<a name="putVote-int-di.unipi.ase.doodle.Vote-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putVote</h4>
<pre>@RequestMapping(value="/doodles/{id}/vote",
                method=PUT)
public&nbsp;String&nbsp;putVote&#8203;(@PathVariable("id")
                      int&nbsp;id,
                      @RequestBody
                      di.unipi.ase.doodle.Vote&nbsp;v)</pre>
<div class="block">Creates a new vote in the doodle identified by id and returns the name of the voter.

 The implementation guarantees that this method can be called by an user only to cast
 its first vote; it cannot be used to modify an already-existing vote.
 Moreover, it also checks that the JSON contains the "name" field, in order to
 avoid the bug where a JSON request with valid "option" but no "name" gets inserted
 into the doodle as "null" (see report).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The ID of the Doodle in which the vote must be casted.</dd>
<dd><code>v</code> - The Vote object parsed by the Spring framework from the JSON body request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The string containing the name of the voter if the vote has been successfully casted,
         or null otherwise.</dd>
</dl>
</li>
</ul>
<a name="getVotedOption-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVotedOption</h4>
<pre>@RequestMapping(value="/doodles/{id}/vote/{name}",
                method=GET)
public&nbsp;String&nbsp;getVotedOption&#8203;(@PathVariable("id")
                             int&nbsp;id,
                             @PathVariable("name")
                             String&nbsp;name)</pre>
<div class="block">Returns the option voted by user name in the doodle identified by id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The ID of the Doodle in which the user has casted its vote.</dd>
<dd><code>name</code> - The name of the user.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The string containing the option voted by the user, or null if the user hasn't voted or the
         ID does not refer to an existing Doodle.</dd>
</dl>
</li>
</ul>
<a name="updateVote-int-java.lang.String-di.unipi.ase.doodle.Vote-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateVote</h4>
<pre>@RequestMapping(value="/doodles/{id}/vote/{name}",
                method=POST)
public&nbsp;String&nbsp;updateVote&#8203;(@PathVariable("id")
                         int&nbsp;id,
                         @PathVariable("name")
                         String&nbsp;name,
                         @RequestBody
                         di.unipi.ase.doodle.Vote&nbsp;v)</pre>
<div class="block">Posts an update as a new JSON vote to the vote of name in doodle id, and returns the name of the voter.

 The implementation guarantees that this method can be called by an user only to update
 an already-existing vote; it cannot be used to add a new vote.
 Moreover, it also checks that the name in the URI corresponds to the "name" field of the JSON request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The ID of the Doodle in which the user has casted its vote.</dd>
<dd><code>name</code> - The name of the user.</dd>
<dd><code>v</code> - The new vote to be casted, an object parsed by the Spring framework from the JSON body request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The string containing the name of the voter if the vote has been successfully casted,
         or null otherwise.</dd>
</dl>
</li>
</ul>
<a name="deleteVote-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteVote</h4>
<pre>@RequestMapping(value="/doodles/{id}/vote/{name}",
                method=DELETE)
public&nbsp;void&nbsp;deleteVote&#8203;(@PathVariable("id")
                       int&nbsp;id,
                       @PathVariable("name")
                       String&nbsp;name)</pre>
<div class="block">Deletes the vote of name from the Doodle identified by id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The ID of the Doodle in which the user has casted its vote.</dd>
<dd><code>name</code> - The name of the user.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
